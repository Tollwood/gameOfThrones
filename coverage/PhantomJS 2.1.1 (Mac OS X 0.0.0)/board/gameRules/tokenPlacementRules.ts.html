<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for board/gameRules/tokenPlacementRules.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">board/gameRules/</a> tokenPlacementRules.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">44.78% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>30/67</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">19.05% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>4/21</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">20% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>5/25</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">43.94% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>29/66</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">(function(global){global.wrappers['/Users/taamato1/pdev/gameOfThrones/src/logic/board/gameRules/tokenPlacementRules.ts']=[function(require,module,exports,__dirname,__filename){ "use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var orderToken_1 = require("../../orderToken/orderToken");
var gamePhaseService_1 = require("../gamePhaseService");
var AreaRules_1 = require("./AreaRules");
var gameRules_1 = require("./gameRules");
var TokenPlacementRules = /** @class */ (function () {
<span class="fstat-no" title="function not covered" >    function TokenPlacementRules() {</span>
    }
    TokenPlacementRules.isAllowedToPlaceOrderToken = function (house, areaKey) {
        var area = gameRules_1.default.getAreaByKey(areaKey);
        return area !== null &amp;&amp; area.units.length &gt; 0
            &amp;&amp; area.units[0].getHouse() === house
            &amp;&amp; area.orderToken === null;
    };
    TokenPlacementRules.getAvailableOrderToken = <span class="fstat-no" title="function not covered" >function (house) {</span>
<span class="cstat-no" title="statement not covered" >        var alreadyPlacedOrderTokens = gameRules_1.default.gameState.areas.filter(<span class="fstat-no" title="function not covered" >function (area) {</span></span>
<span class="cstat-no" title="statement not covered" >            return area.orderToken &amp;&amp; area.units.length &gt; 0 &amp;&amp; area.units[0].getHouse() === house;</span>
        }).map(<span class="fstat-no" title="function not covered" >function (area) {</span>
<span class="cstat-no" title="statement not covered" >            return area.orderToken.getType();</span>
        });
<span class="cstat-no" title="statement not covered" >        return gameRules_1.default.gameState.currentlyAllowedTokenTypes.filter(<span class="fstat-no" title="function not covered" >function (type) {</span></span>
<span class="cstat-no" title="statement not covered" >            return alreadyPlacedOrderTokens.indexOf(type) === -1;</span>
        });
    };
    TokenPlacementRules.addOrderToken = function (ordertoken, areaKey) {
        var area = gameRules_1.default.getAreaByKey(areaKey);
        area.orderToken = ordertoken;
    };
    TokenPlacementRules.executeRaidOrder = <span class="fstat-no" title="function not covered" >function (source, target) {</span>
<span class="cstat-no" title="statement not covered" >        var sourceArea = gameRules_1.default.getAreaByKey(source);</span>
<span class="cstat-no" title="statement not covered" >        sourceArea.orderToken = null;</span>
<span class="cstat-no" title="statement not covered" >        var targetArea = gameRules_1.default.getAreaByKey(target);</span>
<span class="cstat-no" title="statement not covered" >        if (targetArea.orderToken.isConsolidatePowerToken()) {</span>
<span class="cstat-no" title="statement not covered" >            gameRules_1.default.gameState.players.filter(<span class="fstat-no" title="function not covered" >function (player) {</span></span>
<span class="cstat-no" title="statement not covered" >                return player.house === targetArea.controllingHouse;</span>
            }).map(<span class="fstat-no" title="function not covered" >function (player) {</span>
<span class="cstat-no" title="statement not covered" >                if (player.powerToken &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                    player.powerToken--;</span>
                }
            });
<span class="cstat-no" title="statement not covered" >            gameRules_1.default.gameState.players.filter(<span class="fstat-no" title="function not covered" >function (player) {</span></span>
<span class="cstat-no" title="statement not covered" >                return player.house === sourceArea.controllingHouse;</span>
            })[0].powerToken++;
        }
<span class="cstat-no" title="statement not covered" >        targetArea.orderToken = null;</span>
<span class="cstat-no" title="statement not covered" >        gamePhaseService_1.default.nextPlayer();</span>
    };
    TokenPlacementRules.executeAllConsolidatePowerOrders = <span class="fstat-no" title="function not covered" >function () {</span>
<span class="cstat-no" title="statement not covered" >        return gameRules_1.default.gameState.areas.filter(<span class="fstat-no" title="function not covered" >function (area) {</span></span>
<span class="cstat-no" title="statement not covered" >            return area.orderToken &amp;&amp; area.orderToken.isConsolidatePowerToken();</span>
        }).map(<span class="fstat-no" title="function not covered" >function (sourceArea) {</span>
<span class="cstat-no" title="statement not covered" >            sourceArea.orderToken = null;</span>
<span class="cstat-no" title="statement not covered" >            var additionalPowerToken = sourceArea.consolidatePower + 1;</span>
<span class="cstat-no" title="statement not covered" >            var player = gameRules_1.default.gameState.players.filter(<span class="fstat-no" title="function not covered" >function (player) {</span></span>
<span class="cstat-no" title="statement not covered" >                return player.house === sourceArea.controllingHouse;</span>
            })[0];
<span class="cstat-no" title="statement not covered" >            player.powerToken += additionalPowerToken;</span>
        });
    };
    TokenPlacementRules.skipOrder = <span class="fstat-no" title="function not covered" >function (source) {</span>
<span class="cstat-no" title="statement not covered" >        var sourceArea = gameRules_1.default.getAreaByKey(source);</span>
<span class="cstat-no" title="statement not covered" >        sourceArea.orderToken = null;</span>
<span class="cstat-no" title="statement not covered" >        gamePhaseService_1.default.nextPlayer();</span>
    };
    TokenPlacementRules.restrictOrderToken = <span class="fstat-no" title="function not covered" >function (notAllowedOrderTokenTypes) {</span>
<span class="cstat-no" title="statement not covered" >        gameRules_1.default.gameState.currentlyAllowedTokenTypes = gameRules_1.default.gameState.currentlyAllowedTokenTypes.filter(<span class="fstat-no" title="function not covered" >function (orderToken) {</span></span>
<span class="cstat-no" title="statement not covered" >            return notAllowedOrderTokenTypes.indexOf(orderToken) === -1;</span>
        });
    };
    TokenPlacementRules.consolidateAllPower = <span class="fstat-no" title="function not covered" >function () {</span>
<span class="cstat-no" title="statement not covered" >        var gameState = gameRules_1.default.gameState;</span>
<span class="cstat-no" title="statement not covered" >        gameState.players.forEach(<span class="fstat-no" title="function not covered" >function (player) {</span></span>
<span class="cstat-no" title="statement not covered" >            var additionalPower = 0;</span>
<span class="cstat-no" title="statement not covered" >            gameState.areas.forEach(<span class="fstat-no" title="function not covered" >function (area) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (area.controllingHouse === player.house) {</span>
<span class="cstat-no" title="statement not covered" >                    additionalPower += area.consolidatePower;</span>
                }
            });
<span class="cstat-no" title="statement not covered" >            player.powerToken += additionalPower;</span>
        });
        // Add logic for ships in harbour
    };
    TokenPlacementRules.isAllowedToRaid = <span class="fstat-no" title="function not covered" >function (sourceArea, targetArea) {</span>
<span class="cstat-no" title="statement not covered" >        return AreaRules_1.default.isConnectedArea(sourceArea, targetArea)</span>
            &amp;&amp; targetArea.controllingHouse
            &amp;&amp; sourceArea.controllingHouse !== targetArea.controllingHouse
            &amp;&amp; (sourceArea.isLandArea &amp;&amp; targetArea.isLandArea || !sourceArea.isLandArea);
    };
    TokenPlacementRules.RAID_ORDER_TOKENS = [orderToken_1.OrderTokenType.raid_0, orderToken_1.OrderTokenType.raid_1, orderToken_1.OrderTokenType.raid_special];
    TokenPlacementRules.MARCH_ORDER_TOKENS = [orderToken_1.OrderTokenType.march_minusOne, orderToken_1.OrderTokenType.march_zero, orderToken_1.OrderTokenType.march_special];
    TokenPlacementRules.DEFEND_ORDER_TOKENS = [orderToken_1.OrderTokenType.defend_0, orderToken_1.OrderTokenType.defend_1, orderToken_1.OrderTokenType.defend_special];
    TokenPlacementRules.SUPPORT_ORDER_TOKENS = [orderToken_1.OrderTokenType.support_0, orderToken_1.OrderTokenType.support_1, orderToken_1.OrderTokenType.support_special];
    TokenPlacementRules.CONSOLIDATE_POWER_ORDER_TOKENS = [orderToken_1.OrderTokenType.consolidatePower_0, orderToken_1.OrderTokenType.consolidatePower_1, orderToken_1.OrderTokenType.consolidatePower_special];
    TokenPlacementRules.INITIALLY_ALLOWED_ORDER_TOKEN_TYPES = [orderToken_1.OrderTokenType.march_minusOne, orderToken_1.OrderTokenType.march_zero, orderToken_1.OrderTokenType.march_special, orderToken_1.OrderTokenType.raid_0, orderToken_1.OrderTokenType.raid_1, orderToken_1.OrderTokenType.raid_special, orderToken_1.OrderTokenType.consolidatePower_0, orderToken_1.OrderTokenType.consolidatePower_1, orderToken_1.OrderTokenType.consolidatePower_special, orderToken_1.OrderTokenType.defend_0, orderToken_1.OrderTokenType.defend_1, orderToken_1.OrderTokenType.defend_special, orderToken_1.OrderTokenType.support_0, orderToken_1.OrderTokenType.support_1, orderToken_1.OrderTokenType.support_special];
    return TokenPlacementRules;
}());
exports.default = TokenPlacementRules;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5QbGFjZW1lbnRSdWxlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRva2VuUGxhY2VtZW50UnVsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSwwREFBdUU7QUFHdkUsd0RBQW1EO0FBQ25ELHlDQUFvQztBQUNwQyx5Q0FBb0M7QUFDcEM7SUFBQTtJQXFHQSxDQUFDO0lBM0ZpQiw4Q0FBMEIsR0FBeEMsVUFBeUMsS0FBWSxFQUFFLE9BQWdCO1FBQ25FLElBQU0sSUFBSSxHQUFHLG1CQUFTLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUM7ZUFDdEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxLQUFLO2VBQ2xDLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDO0lBQ3BDLENBQUM7SUFFYSwwQ0FBc0IsR0FBcEMsVUFBcUMsS0FBWTtRQUM3QyxJQUFJLHdCQUF3QixHQUEwQixtQkFBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBSTtZQUN4RixNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsS0FBSyxLQUFLLENBQUM7UUFDMUYsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUMsSUFBSTtZQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxDQUFDLG1CQUFTLENBQUMsU0FBUyxDQUFDLDBCQUEwQixDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUk7WUFDOUQs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RyxzQ0FBa0IsR0FBRyxDQUFDLDJCQUFjLENBQUMsY0FBYyxFQUFFLDJCQUFjLENBQUMsVUFBVSxFQUFFLDJCQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDOUcsdUNBQW1CLEdBQUcsQ0FBQywyQkFBYyxDQUFDLFFBQVEsRUFBRSwyQkFBYyxDQUFDLFFBQVEsRUFBRSwyQkFBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3hHLHdDQUFvQixHQUFHLENBQUMsMkJBQWMsQ0FBQyxTQUFTLEVBQUUsMkJBQWMsQ0FBQyxTQUFTLEVBQUUsMkJBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUM1RyxrREFBOEIsR0FBRyxDQUFDLDJCQUFjLENBQUMsa0JBQWtCLEVBQUUsMkJBQWMsQ0FBQyxrQkFBa0IsRUFBRSwyQkFBYyxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDakosdURBQW1DLEdBQUcsQ0FBQywyQkFBYyxDQUFDLGNBQWMsRUFBRSwyQkFBYyxDQUFDLFVBQVUsRUFBRSwyQkFBYyxDQUFDLGFBQWEsRUFBRSwyQkFBYyxDQUFDLE1BQU0sRUFBRSwyQkFBYyxDQUFDLE1BQU0sRUFBRSwyQkFBYyxDQUFDLFlBQVksRUFBRSwyQkFBYyxDQUFDLGtCQUFrQixFQUFFLDJCQUFjLENBQUMsa0JBQWtCLEVBQUUsMkJBQWMsQ0FBQyx3QkFBd0IsRUFBRSwyQkFBYyxDQUFDLFFBQVEsRUFBRSwyQkFBYyxDQUFDLFFBQVEsRUFBRSwyQkFBYyxDQUFDLGNBQWMsRUFBRSwyQkFBYyxDQUFDLFNBQVMsRUFBRSwyQkFBYyxDQUFDLFNBQVMsRUFBRSwyQkFBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBOEZoZiwwQkFBQztDQUFBLEFBckdELElBcUdDO2tCQXJHb0IsbUJBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPcmRlclRva2VuLCBPcmRlclRva2VuVHlwZX0gZnJvbSAnLi4vLi4vb3JkZXJUb2tlbi9vcmRlclRva2VuJztcbmltcG9ydCB7QXJlYSwgQXJlYUtleX0gZnJvbSAnLi4vYXJlYSc7XG5pbXBvcnQge0hvdXNlfSBmcm9tICcuLi9ob3VzZSc7XG5pbXBvcnQgR2FtZVBoYXNlU2VydmljZSBmcm9tICcuLi9nYW1lUGhhc2VTZXJ2aWNlJztcbmltcG9ydCBBcmVhUnVsZXMgZnJvbSAnLi9BcmVhUnVsZXMnO1xuaW1wb3J0IEdhbWVSdWxlcyBmcm9tICcuL2dhbWVSdWxlcyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2tlblBsYWNlbWVudFJ1bGVzIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgUkFJRF9PUkRFUl9UT0tFTlMgPSBbT3JkZXJUb2tlblR5cGUucmFpZF8wLCBPcmRlclRva2VuVHlwZS5yYWlkXzEsIE9yZGVyVG9rZW5UeXBlLnJhaWRfc3BlY2lhbF07XG4gICAgcHVibGljIHN0YXRpYyBNQVJDSF9PUkRFUl9UT0tFTlMgPSBbT3JkZXJUb2tlblR5cGUubWFyY2hfbWludXNPbmUsIE9yZGVyVG9rZW5UeXBlLm1hcmNoX3plcm8sIE9yZGVyVG9rZW5UeXBlLm1hcmNoX3NwZWNpYWxdO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGRU5EX09SREVSX1RPS0VOUyA9IFtPcmRlclRva2VuVHlwZS5kZWZlbmRfMCwgT3JkZXJUb2tlblR5cGUuZGVmZW5kXzEsIE9yZGVyVG9rZW5UeXBlLmRlZmVuZF9zcGVjaWFsXTtcbiAgICBwdWJsaWMgc3RhdGljIFNVUFBPUlRfT1JERVJfVE9LRU5TID0gW09yZGVyVG9rZW5UeXBlLnN1cHBvcnRfMCwgT3JkZXJUb2tlblR5cGUuc3VwcG9ydF8xLCBPcmRlclRva2VuVHlwZS5zdXBwb3J0X3NwZWNpYWxdO1xuICAgIHB1YmxpYyBzdGF0aWMgQ09OU09MSURBVEVfUE9XRVJfT1JERVJfVE9LRU5TID0gW09yZGVyVG9rZW5UeXBlLmNvbnNvbGlkYXRlUG93ZXJfMCwgT3JkZXJUb2tlblR5cGUuY29uc29saWRhdGVQb3dlcl8xLCBPcmRlclRva2VuVHlwZS5jb25zb2xpZGF0ZVBvd2VyX3NwZWNpYWxdO1xuICAgIHB1YmxpYyBzdGF0aWMgSU5JVElBTExZX0FMTE9XRURfT1JERVJfVE9LRU5fVFlQRVMgPSBbT3JkZXJUb2tlblR5cGUubWFyY2hfbWludXNPbmUsIE9yZGVyVG9rZW5UeXBlLm1hcmNoX3plcm8sIE9yZGVyVG9rZW5UeXBlLm1hcmNoX3NwZWNpYWwsIE9yZGVyVG9rZW5UeXBlLnJhaWRfMCwgT3JkZXJUb2tlblR5cGUucmFpZF8xLCBPcmRlclRva2VuVHlwZS5yYWlkX3NwZWNpYWwsIE9yZGVyVG9rZW5UeXBlLmNvbnNvbGlkYXRlUG93ZXJfMCwgT3JkZXJUb2tlblR5cGUuY29uc29saWRhdGVQb3dlcl8xLCBPcmRlclRva2VuVHlwZS5jb25zb2xpZGF0ZVBvd2VyX3NwZWNpYWwsIE9yZGVyVG9rZW5UeXBlLmRlZmVuZF8wLCBPcmRlclRva2VuVHlwZS5kZWZlbmRfMSwgT3JkZXJUb2tlblR5cGUuZGVmZW5kX3NwZWNpYWwsIE9yZGVyVG9rZW5UeXBlLnN1cHBvcnRfMCwgT3JkZXJUb2tlblR5cGUuc3VwcG9ydF8xLCBPcmRlclRva2VuVHlwZS5zdXBwb3J0X3NwZWNpYWxdO1xuXG5cbiAgICBwdWJsaWMgc3RhdGljIGlzQWxsb3dlZFRvUGxhY2VPcmRlclRva2VuKGhvdXNlOiBIb3VzZSwgYXJlYUtleTogQXJlYUtleSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBhcmVhID0gR2FtZVJ1bGVzLmdldEFyZWFCeUtleShhcmVhS2V5KTtcbiAgICAgICAgcmV0dXJuIGFyZWEgIT09IG51bGwgJiYgYXJlYS51bml0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAmJiBhcmVhLnVuaXRzWzBdLmdldEhvdXNlKCkgPT09IGhvdXNlXG4gICAgICAgICAgICAmJiBhcmVhLm9yZGVyVG9rZW4gPT09IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRBdmFpbGFibGVPcmRlclRva2VuKGhvdXNlOiBIb3VzZSk6IEFycmF5PE9yZGVyVG9rZW5UeXBlPiB7XG4gICAgICAgIGxldCBhbHJlYWR5UGxhY2VkT3JkZXJUb2tlbnM6IEFycmF5PE9yZGVyVG9rZW5UeXBlPiA9IEdhbWVSdWxlcy5nYW1lU3RhdGUuYXJlYXMuZmlsdGVyKChhcmVhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXJlYS5vcmRlclRva2VuICYmIGFyZWEudW5pdHMubGVuZ3RoID4gMCAmJiBhcmVhLnVuaXRzWzBdLmdldEhvdXNlKCkgPT09IGhvdXNlO1xuICAgICAgICB9KS5tYXAoKGFyZWEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhcmVhLm9yZGVyVG9rZW4uZ2V0VHlwZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gR2FtZVJ1bGVzLmdhbWVTdGF0ZS5jdXJyZW50bHlBbGxvd2VkVG9rZW5UeXBlcy5maWx0ZXIoKHR5cGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhbHJlYWR5UGxhY2VkT3JkZXJUb2tlbnMuaW5kZXhPZih0eXBlKSA9PT0gLTE7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgYWRkT3JkZXJUb2tlbihvcmRlcnRva2VuOiBPcmRlclRva2VuLCBhcmVhS2V5OiBBcmVhS2V5KSB7XG4gICAgICAgIGNvbnN0IGFyZWEgPSBHYW1lUnVsZXMuZ2V0QXJlYUJ5S2V5KGFyZWFLZXkpO1xuICAgICAgICBhcmVhLm9yZGVyVG9rZW4gPSBvcmRlcnRva2VuO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZXhlY3V0ZVJhaWRPcmRlcihzb3VyY2U6IEFyZWFLZXksIHRhcmdldDogQXJlYUtleSkge1xuICAgICAgICBsZXQgc291cmNlQXJlYSA9IEdhbWVSdWxlcy5nZXRBcmVhQnlLZXkoc291cmNlKTtcbiAgICAgICAgc291cmNlQXJlYS5vcmRlclRva2VuID0gbnVsbDtcblxuICAgICAgICBjb25zdCB0YXJnZXRBcmVhID0gR2FtZVJ1bGVzLmdldEFyZWFCeUtleSh0YXJnZXQpO1xuICAgICAgICBpZiAodGFyZ2V0QXJlYS5vcmRlclRva2VuLmlzQ29uc29saWRhdGVQb3dlclRva2VuKCkpIHtcbiAgICAgICAgICAgIEdhbWVSdWxlcy5nYW1lU3RhdGUucGxheWVycy5maWx0ZXIoKHBsYXllcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXIuaG91c2UgPT09IHRhcmdldEFyZWEuY29udHJvbGxpbmdIb3VzZTtcbiAgICAgICAgICAgIH0pLm1hcCgocGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5wb3dlclRva2VuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucG93ZXJUb2tlbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgR2FtZVJ1bGVzLmdhbWVTdGF0ZS5wbGF5ZXJzLmZpbHRlcigocGxheWVyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllci5ob3VzZSA9PT0gc291cmNlQXJlYS5jb250cm9sbGluZ0hvdXNlO1xuICAgICAgICAgICAgfSlbMF0ucG93ZXJUb2tlbisrO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldEFyZWEub3JkZXJUb2tlbiA9IG51bGw7XG4gICAgICAgIEdhbWVQaGFzZVNlcnZpY2UubmV4dFBsYXllcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZXhlY3V0ZUFsbENvbnNvbGlkYXRlUG93ZXJPcmRlcnMoKSB7XG4gICAgICAgIHJldHVybiBHYW1lUnVsZXMuZ2FtZVN0YXRlLmFyZWFzLmZpbHRlcigoYXJlYSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGFyZWEub3JkZXJUb2tlbiAmJiBhcmVhLm9yZGVyVG9rZW4uaXNDb25zb2xpZGF0ZVBvd2VyVG9rZW4oKTtcbiAgICAgICAgfSkubWFwKChzb3VyY2VBcmVhKSA9PiB7XG4gICAgICAgICAgICBzb3VyY2VBcmVhLm9yZGVyVG9rZW4gPSBudWxsO1xuICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxQb3dlclRva2VuID0gc291cmNlQXJlYS5jb25zb2xpZGF0ZVBvd2VyICsgMTtcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBHYW1lUnVsZXMuZ2FtZVN0YXRlLnBsYXllcnMuZmlsdGVyKChwbGF5ZXIpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyLmhvdXNlID09PSBzb3VyY2VBcmVhLmNvbnRyb2xsaW5nSG91c2U7XG4gICAgICAgICAgICB9KVswXTtcbiAgICAgICAgICAgIHBsYXllci5wb3dlclRva2VuICs9IGFkZGl0aW9uYWxQb3dlclRva2VuO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHNraXBPcmRlcihzb3VyY2U6IEFyZWFLZXkpIHtcbiAgICAgICAgbGV0IHNvdXJjZUFyZWEgPSBHYW1lUnVsZXMuZ2V0QXJlYUJ5S2V5KHNvdXJjZSk7XG4gICAgICAgIHNvdXJjZUFyZWEub3JkZXJUb2tlbiA9IG51bGw7XG4gICAgICAgIEdhbWVQaGFzZVNlcnZpY2UubmV4dFBsYXllcigpO1xuICAgIH1cblxuXG4gICAgcHVibGljIHN0YXRpYyByZXN0cmljdE9yZGVyVG9rZW4obm90QWxsb3dlZE9yZGVyVG9rZW5UeXBlczogQXJyYXk8T3JkZXJUb2tlblR5cGU+KSB7XG4gICAgICAgIEdhbWVSdWxlcy5nYW1lU3RhdGUuY3VycmVudGx5QWxsb3dlZFRva2VuVHlwZXMgPSBHYW1lUnVsZXMuZ2FtZVN0YXRlLmN1cnJlbnRseUFsbG93ZWRUb2tlblR5cGVzLmZpbHRlcihmdW5jdGlvbiAob3JkZXJUb2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIG5vdEFsbG93ZWRPcmRlclRva2VuVHlwZXMuaW5kZXhPZihvcmRlclRva2VuKSA9PT0gLTE7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgY29uc29saWRhdGVBbGxQb3dlcigpIHtcbiAgICAgICAgbGV0IGdhbWVTdGF0ZSA9IEdhbWVSdWxlcy5nYW1lU3RhdGU7XG4gICAgICAgIGdhbWVTdGF0ZS5wbGF5ZXJzLmZvckVhY2goKHBsYXllcikgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxQb3dlciA9IDA7XG4gICAgICAgICAgICBnYW1lU3RhdGUuYXJlYXMuZm9yRWFjaCgoYXJlYSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhcmVhLmNvbnRyb2xsaW5nSG91c2UgPT09IHBsYXllci5ob3VzZSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUG93ZXIgKz0gYXJlYS5jb25zb2xpZGF0ZVBvd2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGxheWVyLnBvd2VyVG9rZW4gKz0gYWRkaXRpb25hbFBvd2VyO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQWRkIGxvZ2ljIGZvciBzaGlwcyBpbiBoYXJib3VyXG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBpc0FsbG93ZWRUb1JhaWQoc291cmNlQXJlYTogQXJlYSwgdGFyZ2V0QXJlYTogQXJlYSkge1xuICAgICAgICByZXR1cm4gQXJlYVJ1bGVzLmlzQ29ubmVjdGVkQXJlYShzb3VyY2VBcmVhLCB0YXJnZXRBcmVhKVxuICAgICAgICAgICAgJiYgdGFyZ2V0QXJlYS5jb250cm9sbGluZ0hvdXNlXG4gICAgICAgICAgICAmJiBzb3VyY2VBcmVhLmNvbnRyb2xsaW5nSG91c2UgIT09IHRhcmdldEFyZWEuY29udHJvbGxpbmdIb3VzZVxuICAgICAgICAgICAgJiYgKHNvdXJjZUFyZWEuaXNMYW5kQXJlYSAmJiB0YXJnZXRBcmVhLmlzTGFuZEFyZWEgfHwgIXNvdXJjZUFyZWEuaXNMYW5kQXJlYSk7XG4gICAgfVxufSJdfQ==
},'src/logic/board/gameRules/tokenPlacementRules.ts',{"../../orderToken/orderToken":"/Users/taamato1/pdev/gameOfThrones/src/logic/orderToken/orderToken.ts","../area":"/Users/taamato1/pdev/gameOfThrones/src/logic/board/area.ts","../house":"/Users/taamato1/pdev/gameOfThrones/src/logic/board/house.ts","../gamePhaseService":"/Users/taamato1/pdev/gameOfThrones/src/logic/board/gamePhaseService.ts","./AreaRules":"/Users/taamato1/pdev/gameOfThrones/src/logic/board/gameRules/AreaRules.ts","./gameRules":"/Users/taamato1/pdev/gameOfThrones/src/logic/board/gameRules/gameRules.ts"}];})(this);
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Oct 28 2017 18:03:52 GMT+0200 (CEST)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
